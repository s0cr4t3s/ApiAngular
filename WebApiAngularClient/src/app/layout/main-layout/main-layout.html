<div class="main-layout flex h-screen overflow-hidden">
	<aside class="h-full surface-card border-right-1 surface-border flex flex-column transition-all transition-duration-300 z-5 overflow-hidden"
		   [style.width]="sidebarActive() ? '15rem' : '0'"
		   [style.opacity]="sidebarActive() ? '1' : '0'">

		<div class="h-4rem flex align-items-center px-2 surface-border white-space-nowrap">
			<p-button icon="pi pi-bars" [text]="true" (onClick)="toggleMenu()" styleClass="bars-sidebar-toggle p-button-secondary mr-2"></p-button>
		</div>

		<div class="flex-grow-1 overflow-y-auto w-15rem">
			<app-sidebar></app-sidebar>
		</div>
	</aside>

	<div class="flex flex-column flex-grow-1 overflow-hidden">
		<header class="h-4rem surface-card border-bottom-1 surface-border flex align-items-center justify-content-between px-2">
			<div class="flex align-items-center">
				@if (!sidebarActive()) {
				<p-button icon="pi pi-bars" [text]="true" (onClick)="toggleMenu()" styleClass="bars-toggle p-button-secondary mr-3 animate-fadein"></p-button>
				}
				<div class="flex align-items-center gap-2">
					<i class="pi pi-prime text-primary text-3xl"></i>
					<span class="text-lg font-bold uppercase text-900">Api Angular</span>
				</div>
				<!--<p-breadcrumb [model]="breadcrumbItems()" [home]="{ icon: 'pi pi-home' }" styleClass="bg-transparent border-none p-0"></p-breadcrumb>-->
			</div>
			<div class="flex align-items-center gap-2 px-2">
				<p-button [icon]="themeService.isDarkMode() ? 'pi pi-sun' : 'pi pi-moon'"
						  [text]="true"
						  severity="secondary"
						  (onClick)="themeService.toggle()"
						  styleClass="p-0 w-2rem h-2rem">
				</p-button>

				<i class="pi pi-bell text-xl text-600 p-overlay-badge cursor-pointer">
					<p-badge value="3" severity="danger"></p-badge>
				</i>

				<div class="flex align-items-center gap-3 cursor-pointer p-2 border-round hover:surface-100 transition-colors" (click)="userMenu.toggle($event)">
					<p-avatar label="AE" shape="circle"></p-avatar>
					<div class="flex flex-column">
						<span class="font-bold text-sm text-900 line-height-1">Amy Elsner</span>
						<span class="text-xs text-600 mt-1">Webmaster</span>
					</div>
				</div>
				<p-menu #userMenu [model]="navService.userMenuItems()" [popup]="true"></p-menu>
			</div>
		</header>

		<main class="flex-grow-1 overflow-auto p-4 surface-ground">
			<router-outlet></router-outlet>
		</main>
	</div>
</div>
